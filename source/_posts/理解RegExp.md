---
title: 理解RegExp
date: 2020-02-13 19:27:02
tags:
---

正则表达式

写法：
1. `var reg = /abc/igm`
2.
```
// 第一个参数可为正则（例如/abc/） ,第二个参数可省略
var reg = new RegExp("abc", "igm")

````

修饰符：

`i` --> ignoreCase 忽略大小写

`g` --> global 全局匹配

`m` --> multiline多行匹配，和开头结尾相作用


方法：

`reg.test(str) // 返回true/false`
`str.match(reg) // 返回符合条件的数组`
`reg.exec(str) // 和lastIndex相使用，加修饰符`g`后相当于游标每调用一次游标往后走一次，返回游标的位置`

表达式：

`[]`代表表达式，表达式中填写要求，一个表达式代表一位

`[^]`代表非

`[0-9A-z]` 代表0-9和A-z所有字母

`(abc|bcd)` (|)代表或

元字符：

```
\w == [0-9A-z_]
\W == [^\w]
\d == [0-9]
\D == [^\d]
\s == [\t\r\n\f\v ] // 一切空白字符
\S == [\s]
\b == 单词边界 // 例如字符串“abc cde” a c c e都是单词边界
\D == 非单词边界
. == [^\r\n] // 匹配单个字符，除了换行和行结束符
```

量词

```js
打破贪婪原则，在量词后面加问号`?`
如：原来是取1-多个，加了问号现在是能取1个不取多个
str = 'aaaa';
reg = /a+?/g; 

贪婪原则
n+ {1, infinity} // 匹配至少包含一个n的字符串

n* {0, infinity} // 匹配包含0个或多个n的字符串

n? {0, 1} // 匹配包含0个或1个的字符串

n{x} // 匹配包含x个n序列的字符串

n{x,y} // 匹配包含x个至y个n序列的字符串

n{x,} // x-正无穷

n$ // 以n结尾的字符串

^n // 以n开头

?=n // 其后紧跟n  
// 正向预查/正向断言,例如：
reg = /a(?=b)/ 即a后面紧跟b的符合条件的a

?!n // 其后不紧跟n
```

补充

`reg = /(a)\1/` ()中内容表示子表达式，\1表示反向引用，即筛选连着两个a的字符串，
`reg = /(\w)\1\1\1/`即表示 4个连续相同的字母或数字或下划线
`reg = /(\w)\1(\w)\2/` 匹配aabb

字符串方法：

`replace`
将横线式命名转为小驼峰式命名

```js
let str = 'the-first-name';
let reg = /-(\w)/g;
str.replace(reg, function($, $1) {
    return $1.toUpperCase()
})
```